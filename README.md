# üè¢ Organization Directory REST API

<div align="center">

![Python](https://img.shields.io/badge/Python-3.11+-blue.svg)
![FastAPI](https://img.shields.io/badge/FastAPI-0.104+-green.svg)
![PostgreSQL](https://img.shields.io/badge/PostgreSQL-15+-blue.svg)
![Docker](https://img.shields.io/badge/Docker-Ready-blue.svg)
![License](https://img.shields.io/badge/License-MIT-yellow.svg)

–ú–æ—â–Ω–æ–µ REST API –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–º –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π, –∑–¥–∞–Ω–∏–π –∏ –≤–∏–¥–æ–≤ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≥–µ–æ–ø–æ–∏—Å–∫–∞ –∏ –¥—Ä–µ–≤–æ–≤–∏–¥–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–π.

[–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏) ‚Ä¢
[–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç) ‚Ä¢
[API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](#-api-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è) ‚Ä¢
[–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#-–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)

</div>

---

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

REST API –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–º –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ –≥–µ–æ–ø–æ–∏—Å–∫–∞. –°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤—ã–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–º–ø–∞–Ω–∏—è—Ö, –∏—Ö –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–∏ –∏ —Å—Ñ–µ—Ä–∞—Ö –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

### üéØ –û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏

#### üè¢ –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è
–ö–∞—Ä—Ç–æ—á–∫–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –≤ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–µ —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π:
- **–ù–∞–∑–≤–∞–Ω–∏–µ** ‚Äî –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –û–û–û "–†–æ–≥–∞ –∏ –ö–æ–ø—ã—Ç–∞")
- **–¢–µ–ª–µ—Ñ–æ–Ω—ã** ‚Äî –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã—Ö –Ω–æ–º–µ—Ä–æ–≤ (2-222-222, 3-333-333, 8-923-666-13-13)
- **–ó–¥–∞–Ω–∏–µ** ‚Äî –ø—Ä–∏–≤—è–∑–∫–∞ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—é
- **–í–∏–¥—ã –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** ‚Äî –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ —Å—Ñ–µ—Ä–∞–º –±–∏–∑–Ω–µ—Å–∞

#### üèóÔ∏è –ó–¥–∞–Ω–∏–µ
–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–º –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–∏:
- **–ê–¥—Ä–µ—Å** ‚Äî –ø–æ–ª–Ω—ã–π –ø–æ—á—Ç–æ–≤—ã–π –∞–¥—Ä–µ—Å (–≥. –ú–æ—Å–∫–≤–∞, —É–ª. –õ–µ–Ω–∏–Ω–∞ 1, –æ—Ñ–∏—Å 3)
- **–ì–µ–æ–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã** ‚Äî —Ç–æ—á–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ (—à–∏—Ä–æ—Ç–∞ –∏ –¥–æ–ª–≥–æ—Ç–∞)

#### üìä –î–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å
–î—Ä–µ–≤–æ–≤–∏–¥–Ω–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Å—Ñ–µ—Ä –±–∏–∑–Ω–µ—Å–∞:
- –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ 3 —É—Ä–æ–≤–Ω–µ–π –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏
- –ü—Ä–∏–º–µ—Ä:
  ```
  üìÅ –ï–¥–∞
    ‚îú‚îÄ ü•© –ú—è—Å–Ω–∞—è –ø—Ä–æ–¥—É–∫—Ü–∏—è
    ‚îî‚îÄ ü•õ –ú–æ–ª–æ—á–Ω–∞—è –ø—Ä–æ–¥—É–∫—Ü–∏—è
  üìÅ –ê–≤—Ç–æ–º–æ–±–∏–ª–∏
    ‚îú‚îÄ üöõ –ì—Ä—É–∑–æ–≤—ã–µ
    ‚îú‚îÄ üöó –õ–µ–≥–∫–æ–≤—ã–µ
    ‚îú‚îÄ üîß –ó–∞–ø—á–∞—Å—Ç–∏
    ‚îî‚îÄ üé® –ê–∫—Å–µ—Å—Å—É–∞—Ä—ã
  ```

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üîç –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è

- **üè¢ –ü–æ–∏—Å–∫ –ø–æ –∑–¥–∞–Ω–∏—é** ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –∑–¥–∞–Ω–∏–∏
- **üìä –§–∏–ª—å—Ç—Ä –ø–æ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** ‚Äî –ø–æ–∏—Å–∫ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π –ø–æ –≤–∏–¥—É –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å —É—á–µ—Ç–æ–º –∏–µ—Ä–∞—Ä—Ö–∏–∏
- **üåç –ì–µ–æ–ø–æ–∏—Å–∫** ‚Äî –ø–æ–∏—Å–∫ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π –≤ —Ä–∞–¥–∏—É—Å–µ –∏–ª–∏ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ –æ—Ç —Ç–æ—á–∫–∏ –Ω–∞ –∫–∞—Ä—Ç–µ
- **üî§ –¢–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫** ‚Äî –ø–æ–∏—Å–∫ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
- **üÜî –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ ID** ‚Äî –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- **üèóÔ∏è –°–ø–∏—Å–æ–∫ –∑–¥–∞–Ω–∏–π** ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∑–¥–∞–Ω–∏–π

### üéØ –£–º–Ω—ã–π –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫

–ü—Ä–∏ –ø–æ–∏—Å–∫–µ –ø–æ –≤–∏–¥—É –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ **"–ï–¥–∞"** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤—Å–µ –¥–æ—á–µ—Ä–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:
- ‚úÖ –ï–¥–∞
- ‚úÖ –ú—è—Å–Ω–∞—è –ø—Ä–æ–¥—É–∫—Ü–∏—è  
- ‚úÖ –ú–æ–ª–æ—á–Ω–∞—è –ø—Ä–æ–¥—É–∫—Ü–∏—è

### üó∫Ô∏è –ì–µ–æ–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫

–î–≤–∞ —Ä–µ–∂–∏–º–∞ –≥–µ–æ–ø–æ–∏—Å–∫–∞:
- **–†–∞–¥–∏–∞–ª—å–Ω—ã–π** ‚Äî –≤—Å–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –≤ –∑–∞–¥–∞–Ω–Ω–æ–º —Ä–∞–¥–∏—É—Å–µ –æ—Ç —Ç–æ—á–∫–∏
- **–ü—Ä—è–º–æ—É–≥–æ–ª—å–Ω—ã–π** ‚Äî –≤—Å–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –≤ –∑–∞–¥–∞–Ω–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ (bbox)

### üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π API –∫–ª—é—á
- –ó–∞—â–∏—Ç–∞ –≤—Å–µ—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker
- Docker Compose

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**
   ```bash
   git clone https://github.com/Mashinow/Task-Secunda.git
   cd Task-Secunda
   ```

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
   ```bash
   cp .env.example .env
   ```
   
   –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env` —Ñ–∞–π–ª –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏:
   ```env
   API_KEY=your-secret-api-key
   DATABASE_URL=postgresql://user:password@db:5432/organizations
   ```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**
   ```bash
   docker-compose build
   docker-compose up
   ```

4. **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ! üéâ**
   - üìñ Swagger UI: http://127.0.0.1:8000/docs
   - üìö ReDoc: http://127.0.0.1:8000/redoc
   - üñ•Ô∏è Web –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: http://127.0.0.1:8000

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ:
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ç–∞–±–ª–∏—Ü—ã –≤ –ë–î
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

---

## üìñ API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –ë–∞–∑–æ–≤—ã–π URL
```
http://127.0.0.1:8000/api/v1
```

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã —Ç—Ä–µ–±—É—é—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å API –∫–ª—é—á–æ–º:
```bash
X-API-Key: your-secret-api-key
```

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

#### üè¢ –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏

| –ú–µ—Ç–æ–¥ | –≠–Ω–¥–ø–æ–∏–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| `GET` | `/organizations` | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π |
| `GET` | `/organizations/{id}` | –ü–æ–ª—É—á–∏—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é –ø–æ ID |
| `GET` | `/organizations/building/{building_id}` | –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –≤ –∑–¥–∞–Ω–∏–∏ |
| `GET` | `/organizations/activity/{activity_id}` | –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ –≤–∏–¥—É –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ |
| `GET` | `/organizations/search` | –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é |
| `GET` | `/organizations/geo-search` | –ì–µ–æ–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫ |

#### üèóÔ∏è –ó–¥–∞–Ω–∏—è

| –ú–µ—Ç–æ–¥ | –≠–Ω–¥–ø–æ–∏–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| `GET` | `/buildings` | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–¥–∞–Ω–∏–π |
| `GET` | `/buildings/{id}` | –ü–æ–ª—É—á–∏—Ç—å –∑–¥–∞–Ω–∏–µ –ø–æ ID |

#### üìä –í–∏–¥—ã –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

| –ú–µ—Ç–æ–¥ | –≠–Ω–¥–ø–æ–∏–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| `GET` | `/activities` | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –≤–∏–¥–æ–≤ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ |
| `GET` | `/activities/{id}` | –ü–æ–ª—É—á–∏—Ç—å –≤–∏–¥ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø–æ ID |
| `GET` | `/activities/tree` | –î–µ—Ä–µ–≤–æ –≤–∏–¥–æ–≤ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ |

---

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü–æ–∏—Å–∫ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π –≤ –∑–¥–∞–Ω–∏–∏

```bash
curl -X GET "http://127.0.0.1:8000/api/v1/organizations/building/1" \
  -H "X-API-Key: your-secret-api-key"
```

**–û—Ç–≤–µ—Ç:**
```json
[
  {
    "id": 1,
    "name": "–û–û–û –†–æ–≥–∞ –∏ –ö–æ–ø—ã—Ç–∞",
    "phones": ["2-222-222", "3-333-333"],
    "building": {
      "id": 1,
      "address": "–≥. –ú–æ—Å–∫–≤–∞, —É–ª. –õ–µ–Ω–∏–Ω–∞ 1",
      "latitude": 55.751244,
      "longitude": 37.618423
    },
    "activities": [
      {"id": 1, "name": "–ú—è—Å–Ω–∞—è –ø—Ä–æ–¥—É–∫—Ü–∏—è"},
      {"id": 2, "name": "–ú–æ–ª–æ—á–Ω–∞—è –ø—Ä–æ–¥—É–∫—Ü–∏—è"}
    ]
  }
]
```

### –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –ø–æ –≤–∏–¥—É –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```bash
curl -X GET "http://127.0.0.1:8000/api/v1/organizations/activity/1?include_children=true" \
  -H "X-API-Key: your-secret-api-key"
```

–ù–∞–π–¥–µ—Ç –≤—Å–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Å –≤–∏–¥–∞–º–∏ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:
- "–ï–¥–∞" (—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è)
- "–ú—è—Å–Ω–∞—è –ø—Ä–æ–¥—É–∫—Ü–∏—è" (–¥–æ—á–µ—Ä–Ω—è—è)
- "–ú–æ–ª–æ—á–Ω–∞—è –ø—Ä–æ–¥—É–∫—Ü–∏—è" (–¥–æ—á–µ—Ä–Ω—è—è)

### –ì–µ–æ–ø–æ–∏—Å–∫ –≤ —Ä–∞–¥–∏—É—Å–µ

```bash
curl -X GET "http://127.0.0.1:8000/api/v1/organizations/geo-search?lat=55.751244&lon=37.618423&radius=5000" \
  -H "X-API-Key: your-secret-api-key"
```

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
- `lat` ‚Äî —à–∏—Ä–æ—Ç–∞ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–π —Ç–æ—á–∫–∏
- `lon` ‚Äî –¥–æ–ª–≥–æ—Ç–∞ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–π —Ç–æ—á–∫–∏
- `radius` ‚Äî —Ä–∞–¥–∏—É—Å –ø–æ–∏—Å–∫–∞ –≤ –º–µ—Ç—Ä–∞—Ö

### –ì–µ–æ–ø–æ–∏—Å–∫ –≤ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏

```bash
curl -X GET "http://127.0.0.1:8000/api/v1/organizations/geo-search?min_lat=55.7&max_lat=55.8&min_lon=37.5&max_lon=37.7" \
  -H "X-API-Key: your-secret-api-key"
```

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã bbox:
- `min_lat`, `max_lat` ‚Äî –¥–∏–∞–ø–∞–∑–æ–Ω —à–∏—Ä–æ—Ç—ã
- `min_lon`, `max_lon` ‚Äî –¥–∏–∞–ø–∞–∑–æ–Ω –¥–æ–ª–≥–æ—Ç—ã

### –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é

```bash
curl -X GET "http://127.0.0.1:8000/api/v1/organizations/search?query=–†–æ–≥–∞" \
  -H "X-API-Key: your-secret-api-key"
```

---

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

<table>
<tr>
<td>

**Backend Framework**
- FastAPI
- Pydantic v2
- SQLAlchemy 2.0
- Alembic

</td>
<td>

**–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**
- PostgreSQL 15+
- PostGIS (–≥–µ–æ–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)

</td>
</tr>
<tr>
<td>

**–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**
- Docker
- Docker Compose

</td>
<td>

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
- Pytest
- Coverage

</td>
</tr>
</table>

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
Task-Secunda/
‚îú‚îÄ‚îÄ üìÅ app/
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ api/          # API —Ä–æ—É—Ç—ã –∏ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ core/         # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ db/           # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ models/       # SQLAlchemy –º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ schemas/      # Pydantic —Å—Ö–µ–º—ã
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ services/     # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îú‚îÄ‚îÄ üìÅ alembic/          # –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
‚îú‚îÄ‚îÄ üìÅ tests/            # –¢–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ üê≥ docker-compose.yml
‚îú‚îÄ‚îÄ üê≥ Dockerfile
‚îú‚îÄ‚îÄ üìÑ requirements.txt
‚îî‚îÄ‚îÄ üìÑ README.md
```

---

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
docker-compose exec app pytest
```

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏

```bash
docker-compose exec app alembic revision --autogenerate -m "–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π"
```

### –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π

```bash
docker-compose exec app alembic upgrade head
```

### –û—Ç–∫–∞—Ç –º–∏–≥—Ä–∞—Ü–∏–π

```bash
docker-compose exec app alembic downgrade -1
```

---

## üìä –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è

- **–ì–ª—É–±–∏–Ω–∞ –¥–µ—Ä–µ–≤–∞ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** ‚Äî –º–∞–∫—Å–∏–º—É–º 3 —É—Ä–æ–≤–Ω—è –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏
- **–í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –Ω–æ–º–µ—Ä–æ–≤
- **–ì–µ–æ–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã** ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è —à–∏—Ä–æ—Ç—ã (-90 –¥–æ 90) –∏ –¥–æ–ª–≥–æ—Ç—ã (-180 –¥–æ 180)

### ‚ö° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

- **–ò–Ω–¥–µ–∫—Å—ã –ë–î** ‚Äî –Ω–∞ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –ø–æ–ª—è—Ö (name, coordinates, activity_id)
- **Eager loading** ‚Äî –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ —Å —Å–≤—è–∑–∞–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

### üåê –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –ø–æ–ª–Ω—É—é –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é API:
- **Swagger UI** ‚Äî http://127.0.0.1:8000/docs (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤)
- **ReDoc** ‚Äî http://127.0.0.1:8000/redoc (—á–∏—Ç–∞–µ–º–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
- **Web –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** ‚Äî http://127.0.0.1:8000 (–ø—Ä–æ—Å—Ç–æ–π UI –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

---
